/*! Offline 2015-06-19 */
function displayData(a){}function displayDate(a){var b=new Date(a[0],a[1],a[2],a[3],a[4],a[5]),c="Loaded data from "+b;$("#content").append("<h2>"+c+"</h2>")}function displayChapters(a){for(var b=document.getElementById("content"),c=0,d=a.length;d>c;c++)b.appendChild(generateChapterDiv(a[c]))}function generateChapterDiv(a){var b=document.createElement("div"),c=document.createElement("h3");c.textContent=a.title,b.appendChild(c),"string"==typeof a.blobImage&&(elemImg=document.createElement("img"),elemImg.src="data:image/bmp;base64,"+a.blobImage,b.appendChild(elemImg));var d=document.createElement("p");return d.textContent=a.text,b.appendChild(d),b}$.ajax({type:"GET",url:"/GET/latest/index.php",dataType:"json"}).done(function(a){localforage.setItem("arrDate",a.arrDate,function(a,b){displayDate(b)}),localforage.setItem("arrChapters",a.arrChapters,function(a,b){displayChapters(b)})}).fail(function(){localforage.getItem("arrDate").then(displayDate),localforage.getItem("arrChapters").then(displayChapters)}),window.addEventListener("load",function(a){window.applicationCache.addEventListener("updateready",function(a){window.applicationCache.status===window.applicationCache.UPDATEREADY&&confirm("A new version of this site is available. Load it?")&&window.location.reload()},!1)},!1);